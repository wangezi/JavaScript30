<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Key Detection(æŒ‰éµæª¢æ¸¬)</title>
  <script type="text/javascript" src="./cornify.js"></script>
  <link rel="icon" href="https://fav.farm/ğŸ¼" />
</head>

<body>
  <script>

    // ä»¥ä¸‹ç¨‹å¼é€šå¸¸è¢«ç”¨ä¾†ä½œç‚º ç¶²ç«™çš„å½©è›‹ï¼ˆEaster Eggï¼‰ï¼Œç•¶ä½¿ç”¨è€…è¼¸å…¥ç‰¹å®šå¯†ç¢¼æ™‚ï¼Œè§¸ç™¼éš±è—çš„é©šå–œï¼ğŸ‰

    // ç”¨æ–¼å„²å­˜ä½¿ç”¨è€…æŒ‰ä¸‹çš„éµ   pressed(æŒ‰ä¸‹)
    const pressed = [];

    // è¨­å®šè§¸ç™¼çš„å¯†ç¢¼ç‚º unicorn(ç¨è§’ç¸)   secretCode(ç§˜å¯†ä»£ç¢¼)   
    const secretCode = 'unicorn';

    // ç›£è½éµç›¤æŒ‰éµé‡‹æ”¾ (keyup) äº‹ä»¶
    window.addEventListener('keyup', (e) => {
      console.log(e.key);

      // å°‡ä½¿ç”¨è€…æŒ‰ä¸‹çš„éµå­˜å…¥ pressed é™£åˆ—ä¸­
      pressed.push(e.key);

      // æ§åˆ¶é™£åˆ—çš„é•·åº¦ï¼Œç¢ºä¿åªä¿ç•™æœ€è¿‘è¼¸å…¥çš„å­—ç¬¦
      // splice(èµ·å§‹ä½ç½®, åˆªé™¤æ•¸é‡)
      // -secretCode.length - 1ï¼šç¢ºä¿åœ¨è¶…é secretCode é•·åº¦æ™‚ï¼Œåˆªé™¤æœ€èˆŠçš„è¼¸å…¥
      // pressed.length - secretCode.lengthï¼šè¨ˆç®—éœ€è¦åˆªé™¤çš„å…ƒç´ æ•¸é‡
      pressed.splice(-secretCode.length - 1, pressed.length - secretCode.length);
      if (pressed.join('').includes(secretCode)) {

        // æª¢æŸ¥ pressed é™£åˆ—ä¸­çš„è¼¸å…¥æ˜¯å¦åŒ…å« secretCode
        console.log('DING DING!');

        // åŸ·è¡Œ cornify_add() å‡½æ•¸ (cornify.js) 
        cornify_add();
      }
      // åœ¨æ§åˆ¶å°é¡¯ç¤ºç•¶å‰è¼¸å…¥çš„æŒ‰éµåºåˆ—
      console.log(pressed);
    });
  </script>
</body>

</html>